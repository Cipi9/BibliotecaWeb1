@model List<PA_project.Models.Collection>
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<style>
    /* Custom card styles */
    .book-card {
        border: 1px solid #ddd; /* Border color for the card */
        border-radius: 8px; /* Rounded corners */
        padding: 15px; /* Padding inside the card */
        margin: 10px; /* Margin around the card */
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Box shadow for a subtle lift */
        background-color: #fff; /* Card background color */
        flex: 1; /* Equal flex distribution in the row */
        max-width: 300px; /* Maximum width for each card */
    }

        .book-card img {
            max-width: 100%; /* Make sure the image doesn't exceed the card width */
            border-radius: 8px; /* Rounded corners for the image */
            margin-bottom: 10px; /* Add spacing below the image */
        }

        .book-card h2 {
            margin-bottom: 10px; /* Add spacing below the title */
        }

        .book-card p {
            margin: 5px 0; /* Add spacing between paragraphs */
        }

        .book-card a {
            text-decoration: none; /* Remove underline from the link */
            color: #333; /* Link color */
        }

            .book-card a:hover {
                text-decoration: underline; /* Underline link on hover */
            }

    /* Flex container for row layout */
    .book-cards-container {
        display: flex;
        flex-wrap: wrap; /* Allow wrapping to the next row */
        justify-content: space-between; /* Evenly distribute cards in the row */
    }

    .book-card {
        flex-basis: calc(33.33% - 20px); /* Three cards per row with margin */
        border: 1px solid #ddd;
        border-radius: 8px;
        padding: 15px;
        margin: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        background-color: #fff;
        max-width: 300px;
        box-sizing: border-box; /* Include padding and border in the box model */
    }

    /* ... existing styles ... */

    /* Flex container for row layout */
    .book-cards-container {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;
    }
</style>

<h1>My Collections</h1>

@if (Model.Count > 0)
{
    <button onclick="location.href='@Url.Action("AddCollection", "Collection")'" class="btn btn-primary">Add a collection</button>
    <br />
    <div class="book-cards-container">
        @foreach (var collection in Model)
        {
            <div class="book-card">
                <img src="~/Content/images/genres/@collection.IconUrl" alt="@collection.Title" />
                <h2 class="text-center"><a href="@Url.Action("SingleCollection", "Collection", new { collectionId = collection.CollectionId })">@collection.Title</a></h2>
                <p><strong>Description:</strong> @collection.Description</p>
                <p><strong>Creation Date:</strong> @collection.CreationDate.ToString("MMM dd, yyyy")</p>
                <br />
                @{
                    // Create a local variable to capture the current book in the loop
                    var currentCollection = collection;
                }

                @using (Html.BeginForm("DeleteCollection", "Collection", FormMethod.Post, new { id = "deleteForm_" + currentCollection.CollectionId }))
                {
                    @Html.Hidden("collectionId", currentCollection.CollectionId)
                    <div class="text-center">
                        <input type="submit" value="Delete" class="btn btn-danger" />
                    </div>
                }

            </div>
        }
    </div>
}
else
{
    <div class="text-center">
        <p>No collection yet!</p>
    </div>
}




